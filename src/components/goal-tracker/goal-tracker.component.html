<div class="glass-card shadow-lg rounded-2xl p-6 max-w-2xl mx-auto text-white">
  <h2 class="text-2xl font-bold mb-4">متتبع الأهداف الأسبوعية</h2>
  
  <!-- Progress Bar -->
  <div class="mb-6">
    <div class="flex justify-between mb-1">
      <span class="text-base font-medium text-blue-300">التقدم</span>
      <span class="text-sm font-medium text-blue-300">{{ progress().toFixed(0) }}%</span>
    </div>
    <div class="w-full bg-gray-700 rounded-full h-4">
      <div class="bg-blue-600 h-4 rounded-full transition-all duration-500" [style.width.%]="progress()"></div>
    </div>
  </div>

  <!-- Add Goal Form -->
  <form (submit)="addGoal()" class="flex gap-2 mb-6">
    <input type="text"
           [value]="newGoalText()"
           (input)="newGoalText.set($any($event.target).value)"
           placeholder="أضف هدفًا جديدًا (مثال: مذاكرة الفيزياء 3 ساعات)"
           class="flex-grow p-3 bg-gray-700/50 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none">
    <button type="submit" class="px-5 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 btn-3d border-blue-800">
      إضافة
    </button>
  </form>

  <!-- Goals List -->
  <div class="space-y-3">
    @if(goals().length > 0) {
      @for(goal of goals(); track goal.id) {
        <div class="flex items-center p-3 bg-gray-800/50 rounded-lg transition-all" [class.opacity-50]="goal.isCompleted">
          <input type="checkbox"
                 [checked]="goal.isCompleted"
                 (change)="toggleGoal(goal.id)"
                 class="w-6 h-6 text-green-500 bg-gray-700 border-gray-600 rounded focus:ring-green-600 ring-offset-gray-800 focus:ring-2">
          <label class="mr-3 flex-grow text-lg"
                 [class.line-through]="goal.isCompleted"
                 [class.text-gray-400]="goal.isCompleted">
            {{ goal.text }}
          </label>
          <button (click)="deleteGoal(goal.id)" class="text-red-500 hover:text-red-400 text-2xl font-bold">&times;</button>
        </div>
      }
    } @else {
      <p class="text-center text-gray-400 py-6">لا توجد أهداف حالية. أضف هدفك الأول!</p>
    }
  </div>
</div>
